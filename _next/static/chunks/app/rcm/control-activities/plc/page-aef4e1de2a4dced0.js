(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{567:(e,s,r)=>{"use strict";r.d(s,{PLCManagement:()=>E});var l=r(5155),c=r(2115),i=r(7168),a=r(9852),t=r(8145),d=r(8482),n=r(8524),o=r(4964),x=r(9840),h=r(6559),u=r(2714),j=r(9474),m=r(5784),v=r(1243),p=r(6785),g=r(5525),N=r(3109),f=r(7924),y=r(4616),b=r(1788),C=r(3904),k=r(3717),P=r(2525),w=r(7580);let I=[{id:"1",cycleCode:"REV",cycleName:"Revenue Cycle",description:"매출 및 수금 프로세스",color:"bg-blue-100 text-blue-800"},{id:"2",cycleCode:"PRC",cycleName:"Procurement Cycle",description:"구매 및 지급 프로세스",color:"bg-green-100 text-green-800"},{id:"3",cycleCode:"PAY",cycleName:"Payroll Cycle",description:"급여 및 인사 프로세스",color:"bg-purple-100 text-purple-800"},{id:"4",cycleCode:"TRS",cycleName:"Treasury Cycle",description:"자금 및 투자 프로세스",color:"bg-orange-100 text-orange-800"},{id:"5",cycleCode:"FIN",cycleName:"Financial Reporting",description:"재무보고 프로세스",color:"bg-red-100 text-red-800"}],A=[{id:"1",cycleId:"1",processCode:"REV-P001",processName:"고객 주문 및 매출 인식"},{id:"2",cycleId:"1",processCode:"REV-P002",processName:"매출채권 관리 및 수금"},{id:"3",cycleId:"2",processCode:"PRC-P001",processName:"구매 요청 및 발주"},{id:"4",cycleId:"2",processCode:"PRC-P002",processName:"입고 검수 및 매입 처리"},{id:"5",cycleId:"2",processCode:"PRC-P003",processName:"매입채무 관리 및 지급"},{id:"6",cycleId:"3",processCode:"PAY-P001",processName:"급여 계산 및 지급"},{id:"7",cycleId:"3",processCode:"PAY-P002",processName:"인사 관리"}],T=[{id:"1",processId:"1",subProcessCode:"REV-P001-S001",subProcessName:"고객 주문 접수"},{id:"2",processId:"1",subProcessCode:"REV-P001-S002",subProcessName:"신용 승인"},{id:"3",processId:"1",subProcessCode:"REV-P001-S003",subProcessName:"출고 및 배송"},{id:"4",processId:"1",subProcessCode:"REV-P001-S004",subProcessName:"매출 인식"},{id:"5",processId:"2",subProcessCode:"REV-P002-S001",subProcessName:"매출채권 관리"},{id:"6",processId:"3",subProcessCode:"PRC-P001-S001",subProcessName:"구매 요청"},{id:"7",processId:"3",subProcessCode:"PRC-P001-S002",subProcessName:"공급업체 선정"},{id:"8",processId:"3",subProcessCode:"PRC-P001-S003",subProcessName:"구매 발주"},{id:"9",processId:"4",subProcessCode:"PRC-P002-S001",subProcessName:"입고 검수"},{id:"10",processId:"4",subProcessCode:"PRC-P002-S002",subProcessName:"매입 처리"}],R=[{id:"1",riskCode:"REV-R001",riskName:"승인되지 않은 매출이 기록될 위험",cycleId:"1",processId:"1",subProcessId:"1",riskLevel:"High",status:"Active",description:"적절한 승인 절차 없이 매출이 기록되어 부정확한 재무정보가 생성될 위험",createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"2",riskCode:"REV-R002",riskName:"매출 인식 시점이 부적절할 위험",cycleId:"1",processId:"1",subProcessId:"4",riskLevel:"High",status:"Active",description:"매출 인식 기준에 따르지 않고 부적절한 시점에 매출이 인식될 위험",createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"3",riskCode:"REV-R003",riskName:"신용한도를 초과한 매출이 발생할 위험",cycleId:"1",processId:"1",subProcessId:"2",riskLevel:"Medium",status:"Active",description:"고객의 신용한도를 초과하여 매출이 발생하고 회수불능 채권이 증가할 위험",createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"4",riskCode:"PRC-R001",riskName:"승인되지 않은 구매가 발생할 위험",cycleId:"2",processId:"3",subProcessId:"6",riskLevel:"High",status:"Active",description:"적절한 승인 절차 없이 구매가 발생하여 예산 초과 및 부정 위험",createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"5",riskCode:"PRC-R002",riskName:"입고되지 않은 물품에 대해 매입이 기록될 위험",cycleId:"2",processId:"4",subProcessId:"9",riskLevel:"High",status:"Active",description:"실제 입고되지 않은 물품에 대해 매입이 기록되어 재고 및 매입채무가 과대계상될 위험",createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"6",riskCode:"PRC-R003",riskName:"중복 지급이 발생할 위험",cycleId:"2",processId:"5",subProcessId:"11",riskLevel:"Medium",status:"Active",description:"동일한 매입채무에 대해 중복으로 지급이 이루어질 위험",createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"7",riskCode:"PAY-R001",riskName:"부정확한 급여가 계산될 위험",cycleId:"3",processId:"6",subProcessId:"14",riskLevel:"Medium",status:"Active",description:"근태 데이터 오류 또는 급여 계산 오류로 인해 부정확한 급여가 지급될 위험",createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"8",riskCode:"PAY-R002",riskName:"퇴직자에게 급여가 지급될 위험",cycleId:"3",processId:"6",subProcessId:"15",riskLevel:"High",status:"Active",description:"인사 정보 업데이트 지연으로 퇴직자에게 급여가 지급될 위험",createdAt:"2024-01-01",updatedAt:"2024-01-01"}],D=[{id:"1",controlCode:"REV-C001",controlName:"매출 승인 통제",riskId:"1",controlType:"Preventive",frequency:"Daily",owner:"영업팀장",description:"모든 매출 거래에 대해 영업팀장의 사전 승인을 받는 통제",effectiveness:"Effective",lastTestDate:"2024-01-15",nextTestDate:"2024-04-15",status:"Active",createdAt:"2024-01-01",updatedAt:"2024-01-15"},{id:"2",controlCode:"REV-C002",controlName:"매출 인식 검토 통제",riskId:"2",controlType:"Detective",frequency:"Monthly",owner:"회계팀장",description:"매월 매출 인식 기준 준수 여부를 검토하는 통제",effectiveness:"Effective",lastTestDate:"2024-01-31",nextTestDate:"2024-04-30",status:"Active",createdAt:"2024-01-01",updatedAt:"2024-01-31"},{id:"3",controlCode:"REV-C003",controlName:"신용한도 모니터링 통제",riskId:"3",controlType:"Preventive",frequency:"Daily",owner:"신용관리 담당자",description:"매출 발생 시 고객별 신용한도를 실시간으로 확인하는 통제",effectiveness:"Partially Effective",lastTestDate:"2024-01-10",nextTestDate:"2024-04-10",status:"Active",createdAt:"2024-01-01",updatedAt:"2024-01-10"},{id:"4",controlCode:"PRC-C001",controlName:"구매 승인 통제",riskId:"4",controlType:"Preventive",frequency:"Daily",owner:"구매팀장",description:"모든 구매 요청에 대해 구매팀장의 사전 승인을 받는 통제",effectiveness:"Effective",lastTestDate:"2024-01-20",nextTestDate:"2024-04-20",status:"Active",createdAt:"2024-01-01",updatedAt:"2024-01-20"},{id:"5",controlCode:"PRC-C002",controlName:"입고 검수 통제",riskId:"5",controlType:"Preventive",frequency:"Daily",owner:"물류팀 검수담당자",description:"모든 입고 물품에 대해 수량 및 품질 검수를 실시하는 통제",effectiveness:"Effective",lastTestDate:"2024-01-25",nextTestDate:"2024-04-25",status:"Active",createdAt:"2024-01-01",updatedAt:"2024-01-25"},{id:"6",controlCode:"PRC-C003",controlName:"중복 지급 방지 통제",riskId:"6",controlType:"Detective",frequency:"Weekly",owner:"재무팀 지급담당자",description:"매주 지급 내역을 검토하여 중복 지급을 방지하는 통제",effectiveness:"Effective",lastTestDate:"2024-01-12",nextTestDate:"2024-04-12",status:"Active",createdAt:"2024-01-01",updatedAt:"2024-01-12"},{id:"7",controlCode:"PAY-C001",controlName:"급여 계산 검토 통제",riskId:"7",controlType:"Detective",frequency:"Monthly",owner:"인사팀장",description:"매월 급여 계산 결과를 검토하여 오류를 발견하는 통제",effectiveness:"Partially Effective",lastTestDate:"2024-01-31",nextTestDate:"2024-04-30",status:"Active",createdAt:"2024-01-01",updatedAt:"2024-01-31"},{id:"8",controlCode:"PAY-C002",controlName:"퇴직자 급여 지급 방지 통제",riskId:"8",controlType:"Preventive",frequency:"Monthly",owner:"인사팀 급여담당자",description:"급여 지급 전 퇴직자 명단과 대조하여 지급을 방지하는 통제",effectiveness:"Effective",lastTestDate:"2024-01-31",nextTestDate:"2024-04-30",status:"Active",createdAt:"2024-01-01",updatedAt:"2024-01-31"}];function E(){let e,s;let[r,E]=(0,c.useState)(""),[L,V]=(0,c.useState)("전체"),[q,S]=(0,c.useState)("전체"),[F,M]=(0,c.useState)("전체"),[J,H]=(0,c.useState)("전체"),[$,W]=(0,c.useState)(!1),[Z,z]=(0,c.useState)(!1),[Y,B]=(0,c.useState)(!1),[O,_]=(0,c.useState)(!1),[X,U]=(0,c.useState)(!1),[G,Q]=(0,c.useState)(null),[K,ee]=(0,c.useState)(null),[es,er]=(0,c.useState)("risk"),[el,ec]=(0,c.useState)({riskCode:"",riskName:"",cycleId:"",processId:"",subProcessId:"",riskLevel:"Medium",description:""}),[ei,ea]=(0,c.useState)({controlCode:"",controlName:"",riskId:"",controlType:"Preventive",frequency:"Monthly",owner:"",description:"",effectiveness:"Not Tested",lastTestDate:"",nextTestDate:""}),et=R.filter(e=>{let s=""===r||e.riskName.toLowerCase().includes(r.toLowerCase())||e.riskCode.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase()),l="전체"===L||e.cycleId===L,c="전체"===q||e.riskLevel===q;return s&&l&&c}),ed=D.filter(e=>{let s=""===r||e.controlName.toLowerCase().includes(r.toLowerCase())||e.controlCode.toLowerCase().includes(r.toLowerCase())||e.owner.toLowerCase().includes(r.toLowerCase()),l="전체"===F||e.controlType===F,c="전체"===J||e.effectiveness===J;return s&&l&&c}),en=e=>{let s=I.find(s=>s.id===e);return s?s.cycleName:""},eo=e=>{let s=A.find(s=>s.id===e);return s?s.processName:""},ex=e=>{let s=T.find(s=>s.id===e);return s?s.subProcessName:""},eh=e=>{let s=R.find(s=>s.id===e);return s?s.riskName:""},eu=R.length,ej=R.filter(e=>"High"===e.riskLevel).length,em=D.length,ev=D.filter(e=>"Effective"===e.effectiveness).length,ep=em>0?Math.round(ev/em*100):0,eg=e=>{switch(e){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},eN=e=>{switch(e){case"Preventive":return"bg-blue-100 text-blue-800";case"Detective":return"bg-purple-100 text-purple-800";case"Corrective":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},ef=e=>{switch(e){case"Effective":return"bg-green-100 text-green-800";case"Partially Effective":return"bg-yellow-100 text-yellow-800";case"Ineffective":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ey=e=>{Q(e),ec({riskCode:e.riskCode,riskName:e.riskName,cycleId:e.cycleId,processId:e.processId,subProcessId:e.subProcessId,riskLevel:e.riskLevel,description:e.description}),z(!0)},eb=e=>{ee(e),ea({controlCode:e.controlCode,controlName:e.controlName,riskId:e.riskId,controlType:e.controlType,frequency:e.frequency,owner:e.owner,description:e.description,effectiveness:e.effectiveness,lastTestDate:e.lastTestDate,nextTestDate:e.nextTestDate}),_(!0)};return(0,l.jsxs)("div",{className:"flex flex-col h-full bg-gray-50",children:[(0,l.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex-shrink-0",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsx)(d.Zp,{children:(0,l.jsx)(d.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,l.jsx)(v.A,{className:"h-5 w-5 text-red-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"총 위험"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:eu})]})]})})}),(0,l.jsx)(d.Zp,{children:(0,l.jsx)(d.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,l.jsx)(p.A,{className:"h-5 w-5 text-red-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"고위험"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-red-600",children:ej})]})]})})}),(0,l.jsx)(d.Zp,{children:(0,l.jsx)(d.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,l.jsx)(g.A,{className:"h-5 w-5 text-blue-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"총 통제"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:em})]})]})})}),(0,l.jsx)(d.Zp,{children:(0,l.jsx)(d.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,l.jsx)(N.A,{className:"h-5 w-5 text-green-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"통제 유효성"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[ep,"%"]})]})]})})})]})}),(0,l.jsx)("div",{className:"flex-1 overflow-auto",children:(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)(o.tU,{defaultValue:"risks",className:"space-y-6",children:[(0,l.jsxs)(o.j7,{className:"grid w-full grid-cols-2",children:[(0,l.jsx)(o.Xi,{value:"risks",children:"위험 목록"}),(0,l.jsx)(o.Xi,{value:"controls",children:"통제활동"})]}),(0,l.jsxs)(o.av,{value:"risks",className:"space-y-6",children:[(0,l.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,l.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,l.jsx)(f.A,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)(a.p,{placeholder:"위험명, 코드로 검색...",value:r,onChange:e=>E(e.target.value),className:"pl-9"})]}),(0,l.jsxs)(m.l6,{value:L,onValueChange:V,children:[(0,l.jsx)(m.bq,{className:"w-48",children:(0,l.jsx)(m.yv,{placeholder:"사이클"})}),(0,l.jsxs)(m.gC,{children:[(0,l.jsx)(m.eb,{value:"전체",children:"전체 사이클"}),I.map(e=>(0,l.jsx)(m.eb,{value:e.id,children:e.cycleName},e.id))]})]}),(0,l.jsxs)(m.l6,{value:q,onValueChange:S,children:[(0,l.jsx)(m.bq,{className:"w-32",children:(0,l.jsx)(m.yv,{placeholder:"위험도"})}),(0,l.jsxs)(m.gC,{children:[(0,l.jsx)(m.eb,{value:"전체",children:"전체"}),(0,l.jsx)(m.eb,{value:"High",children:"High"}),(0,l.jsx)(m.eb,{value:"Medium",children:"Medium"}),(0,l.jsx)(m.eb,{value:"Low",children:"Low"})]})]}),(0,l.jsxs)(i.$,{onClick:()=>{ec({riskCode:"",riskName:"",cycleId:"",processId:"",subProcessId:"",riskLevel:"Medium",description:""}),W(!0)},className:"bg-orange-500 hover:bg-orange-600",children:[(0,l.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"위험 추가"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(t.E,{variant:"outline",className:"text-green-600 border-green-200",children:["총 ",et.length,"개 위험"]}),(0,l.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"내보내기"]}),(0,l.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"새로고침"]})]})]})}),(0,l.jsxs)(d.Zp,{children:[(0,l.jsx)(d.aR,{children:(0,l.jsx)(d.ZB,{children:"PLC 위험 목록"})}),(0,l.jsx)(d.Wu,{children:(0,l.jsxs)(n.XI,{children:[(0,l.jsx)(n.A0,{children:(0,l.jsxs)(n.Hj,{children:[(0,l.jsx)(n.nd,{className:"w-32",children:"위험 코드"}),(0,l.jsx)(n.nd,{children:"위험명"}),(0,l.jsx)(n.nd,{children:"사이클"}),(0,l.jsx)(n.nd,{children:"프로세스"}),(0,l.jsx)(n.nd,{children:"서브프로세스"}),(0,l.jsx)(n.nd,{className:"w-24",children:"위험도"}),(0,l.jsx)(n.nd,{className:"w-24",children:"상태"}),(0,l.jsx)(n.nd,{className:"w-20",children:"작업"})]})}),(0,l.jsx)(n.BF,{children:et.map(e=>(0,l.jsxs)(n.Hj,{className:"hover:bg-gray-50",children:[(0,l.jsx)(n.nA,{className:"font-mono text-xs",children:e.riskCode}),(0,l.jsx)(n.nA,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-sm",children:e.riskName}),(0,l.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2 mt-1",children:e.description})]})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)("span",{className:"text-sm",children:en(e.cycleId)})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)("span",{className:"text-sm",children:eo(e.processId)})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)("span",{className:"text-sm",children:ex(e.subProcessId)})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)(t.E,{className:eg(e.riskLevel),children:e.riskLevel})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)(t.E,{variant:"Active"===e.status?"default":"secondary",children:e.status})}),(0,l.jsx)(n.nA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>ey(e),className:"h-6 w-6 p-0",children:(0,l.jsx)(k.A,{className:"h-3 w-3"})}),(0,l.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{Q(e),er("risk"),U(!0)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,l.jsx)(P.A,{className:"h-3 w-3"})})]})})]},e.id))})]})})]})]}),(0,l.jsxs)(o.av,{value:"controls",className:"space-y-6",children:[(0,l.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,l.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,l.jsx)(f.A,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)(a.p,{placeholder:"통제명, 담당자로 검색...",value:r,onChange:e=>E(e.target.value),className:"pl-9"})]}),(0,l.jsxs)(m.l6,{value:F,onValueChange:M,children:[(0,l.jsx)(m.bq,{className:"w-40",children:(0,l.jsx)(m.yv,{placeholder:"통제 유형"})}),(0,l.jsxs)(m.gC,{children:[(0,l.jsx)(m.eb,{value:"전체",children:"전체 유형"}),(0,l.jsx)(m.eb,{value:"Preventive",children:"Preventive"}),(0,l.jsx)(m.eb,{value:"Detective",children:"Detective"}),(0,l.jsx)(m.eb,{value:"Corrective",children:"Corrective"})]})]}),(0,l.jsxs)(m.l6,{value:J,onValueChange:H,children:[(0,l.jsx)(m.bq,{className:"w-40",children:(0,l.jsx)(m.yv,{placeholder:"유효성"})}),(0,l.jsxs)(m.gC,{children:[(0,l.jsx)(m.eb,{value:"전체",children:"전체"}),(0,l.jsx)(m.eb,{value:"Effective",children:"Effective"}),(0,l.jsx)(m.eb,{value:"Partially Effective",children:"Partially Effective"}),(0,l.jsx)(m.eb,{value:"Ineffective",children:"Ineffective"}),(0,l.jsx)(m.eb,{value:"Not Tested",children:"Not Tested"})]})]}),(0,l.jsxs)(i.$,{onClick:()=>{ea({controlCode:"",controlName:"",riskId:"",controlType:"Preventive",frequency:"Monthly",owner:"",description:"",effectiveness:"Not Tested",lastTestDate:"",nextTestDate:""}),B(!0)},className:"bg-orange-500 hover:bg-orange-600",children:[(0,l.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"통제 추가"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(t.E,{variant:"outline",className:"text-blue-600 border-blue-200",children:["총 ",ed.length,"개 통제"]}),(0,l.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"내보내기"]}),(0,l.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"새로고침"]})]})]})}),(0,l.jsxs)(d.Zp,{children:[(0,l.jsx)(d.aR,{children:(0,l.jsx)(d.ZB,{children:"PLC 통제활동 목록"})}),(0,l.jsx)(d.Wu,{children:(0,l.jsxs)(n.XI,{children:[(0,l.jsx)(n.A0,{children:(0,l.jsxs)(n.Hj,{children:[(0,l.jsx)(n.nd,{className:"w-32",children:"통제 코드"}),(0,l.jsx)(n.nd,{children:"통제명"}),(0,l.jsx)(n.nd,{children:"관련 위험"}),(0,l.jsx)(n.nd,{className:"w-24",children:"유형"}),(0,l.jsx)(n.nd,{className:"w-24",children:"빈도"}),(0,l.jsx)(n.nd,{children:"담당자"}),(0,l.jsx)(n.nd,{className:"w-32",children:"유효성"}),(0,l.jsx)(n.nd,{className:"w-24",children:"상태"}),(0,l.jsx)(n.nd,{className:"w-20",children:"작업"})]})}),(0,l.jsx)(n.BF,{children:ed.map(e=>(0,l.jsxs)(n.Hj,{className:"hover:bg-gray-50",children:[(0,l.jsx)(n.nA,{className:"font-mono text-xs",children:e.controlCode}),(0,l.jsx)(n.nA,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-sm",children:e.controlName}),(0,l.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2 mt-1",children:e.description})]})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)("span",{className:"text-sm",children:eh(e.riskId)})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)(t.E,{className:eN(e.controlType),children:e.controlType})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)("span",{className:"text-sm",children:e.frequency})}),(0,l.jsx)(n.nA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(w.A,{className:"h-3 w-3 text-gray-400"}),(0,l.jsx)("span",{className:"text-sm",children:e.owner})]})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)(t.E,{className:ef(e.effectiveness),children:e.effectiveness})}),(0,l.jsx)(n.nA,{children:(0,l.jsx)(t.E,{variant:"Active"===e.status?"default":"secondary",children:e.status})}),(0,l.jsx)(n.nA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>eb(e),className:"h-6 w-6 p-0",children:(0,l.jsx)(k.A,{className:"h-3 w-3"})}),(0,l.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{ee(e),er("control"),U(!0)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,l.jsx)(P.A,{className:"h-3 w-3"})})]})})]},e.id))})]})})]})]})]})})}),(0,l.jsx)(x.lG,{open:$,onOpenChange:W,children:(0,l.jsxs)(x.Cf,{className:"max-w-2xl",children:[(0,l.jsxs)(x.c7,{children:[(0,l.jsx)(x.L3,{children:"위험 추가"}),(0,l.jsx)(x.rr,{children:"새로운 PLC 위험을 추가합니다."})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"riskCode",children:"위험 코드 *"}),(0,l.jsx)(a.p,{id:"riskCode",value:el.riskCode,onChange:e=>ec({...el,riskCode:e.target.value}),placeholder:"ex: REV-R001"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"riskLevel",children:"위험도 *"}),(0,l.jsxs)(m.l6,{value:el.riskLevel,onValueChange:e=>ec({...el,riskLevel:e}),children:[(0,l.jsx)(m.bq,{children:(0,l.jsx)(m.yv,{})}),(0,l.jsxs)(m.gC,{children:[(0,l.jsx)(m.eb,{value:"High",children:"High"}),(0,l.jsx)(m.eb,{value:"Medium",children:"Medium"}),(0,l.jsx)(m.eb,{value:"Low",children:"Low"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"riskName",children:"위험명 *"}),(0,l.jsx)(a.p,{id:"riskName",value:el.riskName,onChange:e=>ec({...el,riskName:e.target.value}),placeholder:"위험명을 입력하세요"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"cycleId",children:"사이클 *"}),(0,l.jsxs)(m.l6,{value:el.cycleId,onValueChange:e=>ec({...el,cycleId:e,processId:"",subProcessId:""}),children:[(0,l.jsx)(m.bq,{children:(0,l.jsx)(m.yv,{placeholder:"사이클 선택"})}),(0,l.jsx)(m.gC,{children:I.map(e=>(0,l.jsx)(m.eb,{value:e.id,children:e.cycleName},e.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"processId",children:"프로세스 *"}),(0,l.jsxs)(m.l6,{value:el.processId,onValueChange:e=>ec({...el,processId:e,subProcessId:""}),disabled:!el.cycleId,children:[(0,l.jsx)(m.bq,{children:(0,l.jsx)(m.yv,{placeholder:"프로세스 선택"})}),(0,l.jsx)(m.gC,{children:(e=el.cycleId,A.filter(s=>s.cycleId===e)).map(e=>(0,l.jsx)(m.eb,{value:e.id,children:e.processName},e.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"subProcessId",children:"서브프로세스 *"}),(0,l.jsxs)(m.l6,{value:el.subProcessId,onValueChange:e=>ec({...el,subProcessId:e}),disabled:!el.processId,children:[(0,l.jsx)(m.bq,{children:(0,l.jsx)(m.yv,{placeholder:"서브프로세스 선택"})}),(0,l.jsx)(m.gC,{children:(s=el.processId,T.filter(e=>e.processId===s)).map(e=>(0,l.jsx)(m.eb,{value:e.id,children:e.subProcessName},e.id))})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"description",children:"위험 설명 *"}),(0,l.jsx)(j.T,{id:"description",value:el.description,onChange:e=>ec({...el,description:e.target.value}),placeholder:"위험에 대한 상세 설명을 입력하세요",rows:3})]})]}),(0,l.jsxs)(x.Es,{children:[(0,l.jsx)(i.$,{variant:"outline",onClick:()=>W(!1),children:"취소"}),(0,l.jsx)(i.$,{onClick:()=>{W(!1)},disabled:!el.riskCode||!el.riskName||!el.cycleId||!el.processId||!el.subProcessId||!el.description,className:"bg-orange-500 hover:bg-orange-600",children:"추가"})]})]})}),(0,l.jsx)(x.lG,{open:Y,onOpenChange:B,children:(0,l.jsxs)(x.Cf,{className:"max-w-2xl",children:[(0,l.jsxs)(x.c7,{children:[(0,l.jsx)(x.L3,{children:"통제활동 추가"}),(0,l.jsx)(x.rr,{children:"새로운 PLC 통제활동을 추가합니다."})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"controlCode",children:"통제 코드 *"}),(0,l.jsx)(a.p,{id:"controlCode",value:ei.controlCode,onChange:e=>ea({...ei,controlCode:e.target.value}),placeholder:"ex: REV-C001"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"riskId",children:"관련 위험 *"}),(0,l.jsxs)(m.l6,{value:ei.riskId,onValueChange:e=>ea({...ei,riskId:e}),children:[(0,l.jsx)(m.bq,{children:(0,l.jsx)(m.yv,{placeholder:"위험 선택"})}),(0,l.jsx)(m.gC,{children:R.map(e=>(0,l.jsxs)(m.eb,{value:e.id,children:[e.riskCode," - ",e.riskName]},e.id))})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"controlName",children:"통제명 *"}),(0,l.jsx)(a.p,{id:"controlName",value:ei.controlName,onChange:e=>ea({...ei,controlName:e.target.value}),placeholder:"통제명을 입력하세요"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"controlType",children:"통제 유형 *"}),(0,l.jsxs)(m.l6,{value:ei.controlType,onValueChange:e=>ea({...ei,controlType:e}),children:[(0,l.jsx)(m.bq,{children:(0,l.jsx)(m.yv,{})}),(0,l.jsxs)(m.gC,{children:[(0,l.jsx)(m.eb,{value:"Preventive",children:"Preventive"}),(0,l.jsx)(m.eb,{value:"Detective",children:"Detective"}),(0,l.jsx)(m.eb,{value:"Corrective",children:"Corrective"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"frequency",children:"빈도 *"}),(0,l.jsxs)(m.l6,{value:ei.frequency,onValueChange:e=>ea({...ei,frequency:e}),children:[(0,l.jsx)(m.bq,{children:(0,l.jsx)(m.yv,{})}),(0,l.jsxs)(m.gC,{children:[(0,l.jsx)(m.eb,{value:"Daily",children:"Daily"}),(0,l.jsx)(m.eb,{value:"Weekly",children:"Weekly"}),(0,l.jsx)(m.eb,{value:"Monthly",children:"Monthly"}),(0,l.jsx)(m.eb,{value:"Quarterly",children:"Quarterly"}),(0,l.jsx)(m.eb,{value:"Annually",children:"Annually"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"owner",children:"담당자 *"}),(0,l.jsx)(a.p,{id:"owner",value:ei.owner,onChange:e=>ea({...ei,owner:e.target.value}),placeholder:"ex: 영업팀장"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"controlDescription",children:"통제 설명 *"}),(0,l.jsx)(j.T,{id:"controlDescription",value:ei.description,onChange:e=>ea({...ei,description:e.target.value}),placeholder:"통제활동에 대한 상세 설명을 입력하세요",rows:3})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"effectiveness",children:"유효성"}),(0,l.jsxs)(m.l6,{value:ei.effectiveness,onValueChange:e=>ea({...ei,effectiveness:e}),children:[(0,l.jsx)(m.bq,{children:(0,l.jsx)(m.yv,{})}),(0,l.jsxs)(m.gC,{children:[(0,l.jsx)(m.eb,{value:"Not Tested",children:"Not Tested"}),(0,l.jsx)(m.eb,{value:"Effective",children:"Effective"}),(0,l.jsx)(m.eb,{value:"Partially Effective",children:"Partially Effective"}),(0,l.jsx)(m.eb,{value:"Ineffective",children:"Ineffective"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"lastTestDate",children:"최종 테스트일"}),(0,l.jsx)(a.p,{id:"lastTestDate",type:"date",value:ei.lastTestDate,onChange:e=>ea({...ei,lastTestDate:e.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u.J,{htmlFor:"nextTestDate",children:"다음 테스트일"}),(0,l.jsx)(a.p,{id:"nextTestDate",type:"date",value:ei.nextTestDate,onChange:e=>ea({...ei,nextTestDate:e.target.value})})]})]})]}),(0,l.jsxs)(x.Es,{children:[(0,l.jsx)(i.$,{variant:"outline",onClick:()=>B(!1),children:"취소"}),(0,l.jsx)(i.$,{onClick:()=>{B(!1)},disabled:!ei.controlCode||!ei.controlName||!ei.riskId||!ei.owner||!ei.description,className:"bg-orange-500 hover:bg-orange-600",children:"추가"})]})]})}),(0,l.jsx)(h.Lt,{open:X,onOpenChange:U,children:(0,l.jsxs)(h.EO,{children:[(0,l.jsxs)(h.wd,{children:[(0,l.jsx)(h.r7,{children:"risk"===es?"위험 삭제":"통제활동 삭제"}),(0,l.jsxs)(h.$v,{children:[(0,l.jsx)("strong",{children:"risk"===es?null==G?void 0:G.riskName:null==K?void 0:K.controlName})," ","risk"===es?"위험을":"통제활동을"," 삭제하시겠습니까?",(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"text-red-600 text-sm mt-2 block",children:["⚠️ 삭제된 ","risk"===es?"위험은":"통제활동은"," 복구할 수 없습니다."]})]})]}),(0,l.jsxs)(h.ck,{children:[(0,l.jsx)(h.Zr,{children:"취소"}),(0,l.jsx)(h.Rx,{onClick:()=>{U(!1)},className:"bg-red-600 hover:bg-red-700",children:"삭제"})]})]})})]})}},1790:(e,s,r)=>{Promise.resolve().then(r.bind(r,567))},4964:(e,s,r)=>{"use strict";r.d(s,{Xi:()=>n,av:()=>o,j7:()=>d,tU:()=>t});var l=r(5155),c=r(2115),i=r(704),a=r(3999);let t=i.bL,d=c.forwardRef((e,s)=>{let{className:r,...c}=e;return(0,l.jsx)(i.B8,{ref:s,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...c})});d.displayName=i.B8.displayName;let n=c.forwardRef((e,s)=>{let{className:r,...c}=e;return(0,l.jsx)(i.l9,{ref:s,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...c})});n.displayName=i.l9.displayName;let o=c.forwardRef((e,s)=>{let{className:r,...c}=e;return(0,l.jsx)(i.UC,{ref:s,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...c})});o.displayName=i.UC.displayName},9474:(e,s,r)=>{"use strict";r.d(s,{T:()=>a});var l=r(5155),c=r(2115),i=r(3999);let a=c.forwardRef((e,s)=>{let{className:r,...c}=e;return(0,l.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...c})});a.displayName="Textarea"}},e=>{var s=s=>e(e.s=s);e.O(0,[836,606,461,71,360,103,441,684,358],()=>s(1790)),_N_E=e.O()}]);